# 🎉 GitHub Pages 部署成功指南

## ✅ 已完成的步骤

1. ✅ 配置 `basePath: '/top_banana_web'`
2. ✅ 推送完整源代码到 GitHub
3. ✅ 包含 GitHub Actions 工作流配置

## 📋 接下来需要手动完成的步骤

### 第一步：配置 GitHub Pages

1. 打开你的仓库页面：https://github.com/chenhong007/top_banana_web
2. 点击顶部的 **Settings**（设置）标签
3. 在左侧菜单找到 **Pages**
4. 在 **Source** 部分：
   - 选择 **GitHub Actions**（不是 Deploy from a branch）
5. 点击保存（Save）

### 第二步：触发 GitHub Actions 部署

方式 A：自动触发（推荐）
- GitHub Actions 应该会在你推送代码后自动运行
- 稍等 1-2 分钟

方式 B：手动触发
1. 点击仓库顶部的 **Actions** 标签
2. 在左侧选择 **Deploy to GitHub Pages** 工作流
3. 点击右侧的 **Run workflow** 按钮
4. 选择 **master** 分支
5. 点击绿色的 **Run workflow** 按钮

### 第三步：查看部署进度

1. 在 **Actions** 标签页中，你会看到一个正在运行的工作流
2. 点击它可以查看详细日志
3. 等待部署完成（通常需要 2-3 分钟）
4. 看到绿色的 ✅ 表示部署成功

### 第四步：访问你的网站

部署成功后，访问：
**https://chenhong007.github.io/top_banana_web/**

## 🔍 故障排查

### 问题 1：GitHub Actions 失败

检查 Actions 标签页的错误日志，常见原因：
- Node.js 版本不兼容
- 依赖安装失败
- 构建过程出错

### 问题 2：页面显示 404

可能原因：
1. **GitHub Pages 未启用**：确认 Settings → Pages → Source 设置为 GitHub Actions
2. **部署未完成**：等待 Actions 完成（绿色 ✅）
3. **URL 错误**：确保访问 `https://chenhong007.github.io/top_banana_web/`（末尾有斜杠）

### 问题 3：页面样式丢失

检查：
1. 浏览器控制台是否有 404 错误
2. `next.config.js` 中的 `basePath` 是否正确设置为 `/top_banana_web`
3. 清除浏览器缓存后重试

### 问题 4：图片无法加载

检查：
1. 图片路径是否正确
2. 图片是否使用了外部链接（需要 HTTPS）
3. `next.config.js` 中的 `images.unoptimized` 是否设置为 `true`

## 📊 验证部署成功的检查清单

- [ ] GitHub Actions 工作流显示绿色 ✅
- [ ] Settings → Pages 显示 "Your site is live at..."
- [ ] 可以正常访问 https://chenhong007.github.io/top_banana_web/
- [ ] 页面样式正常显示
- [ ] 图片正常加载
- [ ] 搜索功能正常工作
- [ ] 分页功能正常工作

## 🔄 后续更新部署

每次修改代码后，只需：

```bash
git add .
git commit -m "描述你的修改"
git push
```

GitHub Actions 会自动重新构建和部署！

## 📝 重要文件说明

1. **`.github/workflows/deploy.yml`** - GitHub Actions 配置
2. **`next.config.js`** - Next.js 配置（包含 basePath）
3. **`scripts/build-frontend.js`** - 前端构建脚本
4. **`data/prompts.json`** - 静态数据文件

## 🎯 预期的构建流程

1. GitHub Actions 检测到推送
2. 安装 Node.js 和依赖
3. 运行 `npm run build:frontend`
4. 临时移除 admin 和 api 目录
5. 构建静态站点到 `out` 目录
6. 恢复 admin 和 api 目录
7. 添加 `.nojekyll` 文件
8. 上传构建产物
9. 部署到 GitHub Pages

## ⏱️ 预计时间

- 首次部署：2-5 分钟
- 后续更新：2-3 分钟

## 📞 需要帮助？

如果遇到问题，检查：
1. Actions 标签页的错误日志
2. Settings → Pages 的配置
3. 浏览器控制台的错误信息

---

**当前仓库**：https://github.com/chenhong007/top_banana_web
**目标网址**：https://chenhong007.github.io/top_banana_web/

祝部署成功！🚀

