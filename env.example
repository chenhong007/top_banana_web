# ===========================================
# TopAI 环境变量配置示例
# 复制此文件为 .env.local 并修改配置
# ===========================================

# 部署模式
# frontend - 仅前端静态导出 (GitHub Pages)
# full - 完整应用 (含后台管理)
DEPLOY_MODE=full

# 数据库配置 (PostgreSQL)
# 本地开发时使用本地 PostgreSQL
# DATABASE_URL="postgresql://user:password@localhost:5432/topai?schema=public"
# DIRECT_URL="postgresql://user:password@localhost:5432/topai?schema=public"

# Vercel Postgres 部署时使用以下配置 (在 Vercel Dashboard 中设置)
# DATABASE_URL="${POSTGRES_PRISMA_URL}"
# DIRECT_URL="${POSTGRES_URL_NON_POOLING}"

# 管理员认证配置 (后台管理必需)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-password-here

# 认证密钥 (用于 token 签名，请使用随机字符串)
AUTH_SECRET=your-random-secret-key-change-in-production

# 静态导出时的 basePath (GitHub Pages 需要)
# NEXT_PUBLIC_BASE_PATH=/top_banana_web

# 后台管理入口显示控制
# true - 显示后台入口 (默认)
# false - 隐藏后台入口
NEXT_PUBLIC_SHOW_ADMIN_ENTRY=true

# 允许访问后台的域名列表 (可选，逗号分隔)
# 留空或不设置表示所有域名都可以访问
# 示例: NEXT_PUBLIC_ADMIN_ALLOWED_DOMAINS=localhost,yourdomain.vercel.app,yourdomain.com
NEXT_PUBLIC_ADMIN_ALLOWED_DOMAINS=

# Node 环境
NODE_ENV=production
NEXT_PUBLIC_ENABLE_VERCEL_ANALYTICS=true

# ===========================================
# Cloudflare R2 图片存储配置 (可选)
# 如需使用图片上传到 R2 功能，请配置以下变量
# ===========================================

# Cloudflare Account ID (在 Cloudflare Dashboard 中获取)
CLOUDFLARE_R2_ACCOUNT_ID=

# R2 API Token 的 Access Key ID 和 Secret Access Key
# 需要在 Cloudflare Dashboard > R2 > Manage R2 API Tokens 中创建
CLOUDFLARE_R2_ACCESS_KEY_ID=
CLOUDFLARE_R2_SECRET_ACCESS_KEY=

# R2 Bucket 名称 (默认: topai-images)
CLOUDFLARE_R2_BUCKET_NAME=topai-images

# R2 公开访问 URL (强烈推荐配置，可大幅提升图片加载速度)
# 如果配置了 R2 自定义域名或公开访问，填写完整 URL
# 例如: https://images.yourdomain.com
# 配置步骤: Cloudflare R2 > 选择 Bucket > Settings > Public access > 启用并绑定域名
# 如果不配置，将使用 /api/images/[key] 代理访问（速度较慢）
CLOUDFLARE_R2_PUBLIC_URL=

# ===========================================
# 图片优化配置 (可选)
# ===========================================

# 禁用 Next.js 图片优化 (开发环境可设为 true 加快构建)
# 生产环境建议保持默认 (false)，启用 WebP/AVIF 自动转换
DISABLE_IMAGE_OPTIMIZATION=false

